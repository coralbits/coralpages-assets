<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Coralpages Asset Manager{% endblock %}</title>
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body>
    <header>
      <img
        src="https://www.coralbits.com/wp-content/uploads/2023/09/cropped-Coralbits-Logo-Header.png"
        alt="Coralbits Logo"
        width="100"
      />
      <h1 class="flex-1"><a href="/">Coralpages Asset Manager</a></h1>
      <a href="/docs/" class="mr-12px">OpenAPI Documentation</a>
      <div class="theme-toggle-container">
        <button id="themeToggle" class="theme-toggle" aria-label="Toggle theme">
          <span class="theme-icon">üåô</span>
        </button>
      </div>
    </header>
    {% block content %}{% endblock %}

    <script>
      // Theme switching functionality
      function initTheme() {
        const savedTheme = localStorage.getItem("theme") || "dark";
        document.documentElement.setAttribute("data-theme", savedTheme);
        updateThemeIcon(savedTheme);
      }

      function toggleTheme() {
        const currentTheme =
          document.documentElement.getAttribute("data-theme");
        const newTheme = currentTheme === "light" ? "dark" : "light";

        document.documentElement.setAttribute("data-theme", newTheme);
        localStorage.setItem("theme", newTheme);
        updateThemeIcon(newTheme);
      }

      function updateThemeIcon(theme) {
        const icon = document.querySelector(".theme-icon");
        icon.textContent = theme === "light" ? "üåô" : "‚òÄÔ∏è";
      }

      // Initialize theme on page load
      document.addEventListener("DOMContentLoaded", initTheme);

      // Add click listener to theme toggle
      document.addEventListener("DOMContentLoaded", function () {
        document
          .getElementById("themeToggle")
          .addEventListener("click", toggleTheme);
      });
    </script>
  </body>
</html>
